"use strict";(self.webpackChunkudem_admission=self.webpackChunkudem_admission||[]).push([[705],{1046:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(6540),a=n(3907);const i=function(e){var t=e.language,n=e.children,i=(0,a.B)().i18n;return(0,r.useEffect)(function(){i.changeLanguage(t)},[]),r.createElement(r.Fragment,null,n)}},1092:(e,t,n)=>{n.d(t,{Gs:()=>xe,xg:()=>Fe,Ay:()=>Ce});var r=n(6540),a=n(952),i=n(1448),o=n(5635),s=n(2012),l=n(1083),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)},u=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})},d=function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},m=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},p=function(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null),a=(0,r.useRef)(null),c=(0,r.useRef)(l.A.CancelToken.source()),p=(0,r.useRef)(!1),f=(0,s.Ct)(!0),v=(0,i.wA)(),g=(0,i.d4)(function(e){return e.formState}),h=(0,r.useState)(!1),E=h[0],b=h[1];(0,r.useEffect)(function(){return window.addEventListener("cmdSave",y),function(){return window.removeEventListener("cmdSave",y)}},[]),(0,r.useEffect)(function(){g.userAskedToSaveForm&&w(!0,!0)},[g.userAskedToSaveForm]);var y=function(e){var t;p.current=null!==(t=e.detail.disable)&&void 0!==t&&t};(0,r.useEffect)(function(){return(t.current||n.current)&&(clearTimeout(t.current),clearTimeout(n.current)),p.current||(g.isSaving?b(!0):t.current=setTimeout(S,e.debounce)),function(){clearTimeout(t.current)}},[e.values,e.debounce]),(0,r.useEffect)(function(){var e=(0,s.uG)();g.asPaymentLock!==e&&v((0,o.ET)(e)),g.isSaving||!E||p.current||(0,s.uG)()||(S(),b(!1))},[g.isSaving]),(0,r.useEffect)(function(){g.isSubmitting&&(clearTimeout(t.current),clearTimeout(n.current))},[g.isSubmitting]);var S=function(){e.disabled||g.isSaving||w()},w=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return u(void 0,m([],t,!0),void 0,function(t,n){var r,i,l;return void 0===t&&(t=!1),void 0===n&&(n=!1),d(this,function(u){switch(u.label){case 0:return r=(0,s.uG)(),g.asPaymentLock!==r&&v((0,o.ET)(r)),!t&&g.countSaveError>g.maxCountSaveTry||r||g.isSubmitting?[2]:(i=e.save,l=e.values,v((0,o.Vp)()),a.current=i(l,c.current),[4,A(n,function(){v((0,o.Tf)())})]);case 1:return u.sent(),x(),[2]}})})},x=function(){a.current=null},A=function(t,r){return u(void 0,void 0,void 0,function(){var i,s;return d(this,function(l){switch(l.label){case 0:if(null===a.current)return r(),[2];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,a.current];case 2:return 200===(i=l.sent()).status?(r(),f("info","UdemDaForm save response:",i),v((0,o.jc)({success:!0}))):(v((0,o.iq)()),v((0,o.jc)({success:!1})),!t&&i.details&&i.details.isOnRetry&&(v((0,o.i$)()),n.current=setTimeout(S,e.debounce)),f("warn","ERROR! UdemDaForm save response:",i)),[3,4];case 3:return s=l.sent(),v((0,o.iq)()),console.log(s),[3,4];case 4:return[2]}})})};return r.createElement(r.Fragment,null)};const f=function(e){return r.createElement(a.Pc,c({},e,{subscription:{values:!0},component:p}))};var v=n(5595),g=n(924),h=n(6939),E=n(5405),b=function(e){var t=e.dependsOnChampSynchro,n=e.dependsOnOperator,o=e.dependsOnValue,s=e.alsoDependsOnChampSynchro,l=e.alsoDependsOnOperator,c=e.alsoDependsOnValue,u=e.componant,d=e.champSynchroToReset,m=function(e,t){var n;if(t){var r=t.split(".");return 2===r.length?null===(n=null==e?void 0:e[r[0]])||void 0===n?void 0:n[r[1]]:1===r.length?null==e?void 0:e[r[0]]:void 0}},p=(0,a.mN)(),f=(0,a.Mt)(t),v=m(p.getState().values,t),g=(0,a.Mt)(s),E=m(p.getState().values,s),b=p.getState().pristine,y=!!s&&!!l,S=(0,r.useState)({condition:{}}),w=S[0],x=S[1],A=(0,r.useState)({condition:{}}),F=A[0],N=A[1],C=(0,r.useState)(!0),D=C[0],O=C[1],P=(0,i.d4)(function(e){return e.formState.readOnlyFields}),_=y&&g.input.value;(0,r.useEffect)(function(){var e=v||f.input.value,t=function(e,t){if("string"==typeof t)return e.includes(t);for(var n in t)if("string"==typeof t[n]&&e.includes(t[n]))return!0;return!1}(P,d)&&!!e,r=!b&&!t,a=o===e||t,i=-1!=o.split(/,/).indexOf(e)||t,s={condition:{eq:a,neq:!a,in:i,nin:!i}};if(y){var u=E||g.input.value,m=c===u||t,p=-1!=c.split(/,/).indexOf(u)||t,h={condition:{eq:m,neq:!m,in:p,nin:!p}};N(h),O(F.condition[l]!==h.condition[l]),x(s)}else x(s);return w.condition[n]!==s.condition[n]&&D&&window.dispatchEvent(new Event("onFormChange")),function(){return k(r)}},[f.input.value,v,P,_]),(0,r.useEffect)(function(){window.dispatchEvent(new Event("onConditionalFormElVisibilityChange"))},[w.condition.eq,w.condition.neq,w.condition.in,w.condition.nin,D]);var k=function(e){var t=(p.getState().submitFailed||p.getState().submitSucceeded)&&!p.getState().modifiedSinceLastSubmit;if(d&&e&&!p.getState().submitting&&!t){if("string"==typeof d)h.N4.ChangeFieldValue(d,"");else for(var n in d)"string"==typeof d[n]&&h.N4.ChangeFieldValue(d[n],"")}},T=w.condition[n],R=F.condition[l];return(y?T&&R:T)?u:null},y=function(e,t){return e.dependsOnChampSynchro&&e.dependsOnOperator?r.createElement(b,{key:"q_".concat(e.index),dependsOnChampSynchro:e.dependsOnChampSynchro,dependsOnOperator:e.dependsOnOperator,dependsOnValue:e.dependsOnValue?e.dependsOnValue:"",alsoDependsOnChampSynchro:e.alsoDependsOnChampSynchro,alsoDependsOnOperator:e.alsoDependsOnOperator,alsoDependsOnValue:e.alsoDependsOnValue?e.alsoDependsOnValue:"",champSynchroToReset:e.champSynchro,componant:t}):t};function S(e,t,n,a){e.getTooltip=s.Eg,e.getDefaultValidator=(0,E.ud)(e,n),a&&(e.disabled=!0);var i=h.ec[e.type];return i?-1<["motif_dispense","declaration_etudes","etablissement"].indexOf(e.type)?y(e,i(e,t)):y(e,i(e)):r.createElement("span",{className:"udemdaform-unknown-question-element-type"})}var w,x=n(6260),A=n(7335),F=n(9349),N=n(3907),C=n(3249),D=n(5999),O=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},P=(D.Ay.i(w||(w=O(["\n  font-style: normal;\n  text-align: center;\n  height: ","px;\n  width: ","px;\n  line-height: ","px;\n  border-radius: ","px;\n  border: 1px solid #ddd;\n  background: #eee;\n"],["\n  font-style: normal;\n  text-align: center;\n  height: ","px;\n  width: ","px;\n  line-height: ","px;\n  border-radius: ","px;\n  border: 1px solid #ddd;\n  background: #eee;\n"])),30,30,30,15),function(e){e.nameRenderer,r.useRef(0);return r.createElement(r.Fragment,null)}),_=n(5662),k=n(8352),T=n(7356),R=function(){return R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},R.apply(this,arguments)},L=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})},B=function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},M="".concat(k.A.udem_bleu_fonce," !important"),q=D.Ay.h2({fontSize:"21px !important","@media (min-width: 1024px)":{fontSize:"24px !important"}}),H=D.Ay.h3({fontFamily:"Graphik",fontSize:"".concat(k.A.font_size_lg," !important"),lineHeight:"120% !important",fontWeight:"500 !important",color:M}),I=D.Ay.div({fontSize:k.A.font_size_base,fontWeight:400,color:k.A.udem_rouge_erreur,"svg, h3":{verticalAlign:"middle"},svg:{width:24},h3:{position:"relative",left:5,display:"inline",paddingBottom:"0px !important"},marginBottom:"10px"}),j=D.Ay.div({backgroundColor:"".concat(k.A.udem_rose_50," !important"),borderLeft:"4px solid ".concat(k.A.udem_rouge_erreur," !important"),fontSize:k.A.font_size_base,paddingLeft:"20px",margin:"20px 0px 20px 0px",".info":{padding:"20px 0px 20px 0px",display:"grid",gridTemplate:"'a' 'b'"},"@media (min-width: 1180px)":{".info":{gridTemplate:"'a b'",gridTemplateColumns:"0.7fr 0.3fr"}},".item":{gridArea:"a",verticalAlign:"middle",maxWidth:"calc(100% - 25px)"},".fixnow, .helpButton":{gridArea:"b",cursor:"pointer",div:{display:"flex",flexDirection:"row",paddingTop:"20px"},"@media (min-width: 1180px)":{div:{justifyContent:"end",paddingRight:"10px",paddingTop:"0px"}},"span, svg":{verticalAlign:"middle"}},".fixnow":{svg:{marginLeft:"10px",minWidth:24}},".helpButton":{svg:{marginLeft:"4px",marginRight:"-5px",minWidth:24,maxWidth:35,marginTop:"-8px"}},".warning":{color:k.A.udem_rouge_erreur,"span, svg":{verticalAlign:"middle"},svg:{height:24,width:24}}}),V=D.Ay.div({backgroundColor:"#ffffff00 !important",borderLeft:"4px solid ".concat(k.A.udem_vert," !important"),padding:"40px",margin:"20px 0px 20px 0px",position:"relative","h3, svg":{verticalAlign:"middle"},h3:{paddingBottom:"0px !important",color:M,width:"80%"},svg:{width:56,position:"absolute",right:"20px",top:"30px"}}),U=function(e,t){void 0===t&&(t=10);var n=0,r=!0,a=void 0;do{if(!e)break;(a=a?a.parentElement:e.parentElement)&&a.classList.contains("tx-udemda-input")&&(r=!1),n++}while(r&&n<=t);return a},z=function(e){var t,n,a,i=e.field,o=e.form,s=e.disabled,l=(0,N.B)(),c=l.t,u=l.i18n,d=document.querySelector('[name="'.concat(i,'"]')),m=function(e,t){var n=t.getState().submitErrors,r=e.split(/\.(.*)/);return r&&n&&n[r[0]]&&n[r[0]][r[1]]?n[r[0]][r[1]]:""}(i,o),p=m?{textContent:m}:{textContent:"not found : ".concat(i)},f=void 0,v=U(d);if(v){var g=v.querySelector('span[class*="label"]');g&&(p=g)}if("profil.birthstate"===i&&(p={textContent:c("da.lieu_naissance.state_label")}),"profil.birthplace"===i&&(p={textContent:c("da.lieu_naissance.place_label")}),i===c("da.declaration_etudes.name")){d=document.querySelector("#summary_".concat(i.replace(/(\s|é|è|à)/gi,"_")));var h="";void 0!==(null===(t=o.getState().errors)||void 0===t?void 0:t.etudesAnterieures)&&void 0!==(null===(n=o.getState().errors)||void 0===n?void 0:n.etudesAnterieures["FINAL_FORM/array-error"])&&(h=null===(a=o.getState().errors)||void 0===a?void 0:a.etudesAnterieures["FINAL_FORM/array-error"].replace(c("da.declaration_etudes.error_messages.hasError"),"")),""!==h&&-1==h.substring(0,2).indexOf(":")&&(h=" : "+h),p={textContent:i+h}}if(i.startsWith("etudesAnterieures")&&(d=document.querySelector("#summary_".concat(c("da.declaration_etudes.name").replace(/(\s|é|è|à)/gi,"_"))),p=m?{textContent:m}:p),i===T.Ym+".declSubmit"){d=null;var E=m||"";p={textContent:c("da.validatorDA.fatalErrorContactUs")+E}}m||"shared.acceptUdeMIsFrench_CTRL"!==i||(d=null,p={textContent:c("da.validatorDA.acceptUdeMIsFrench_CTRL")},f=function(){L(void 0,void 0,void 0,function(){return B(this,function(e){switch(e.label){case 0:return[4,u.changeLanguage("fr")];case 1:return e.sent(),u.changeLanguage("en"),[2]}})})}),"profil.acceptPhoneText"===i&&(p={textContent:c("da.questions.QuestionTel.textoConsentValidationTitle")});return r.createElement(r.Fragment,null,r.createElement("div",{className:"item"},r.createElement("span",null,p.textContent)),d?r.createElement("div",{className:"fixnow",onClick:function(){return function(e){if(!s){var t=U(e);if(i===c("da.declaration_etudes.name")||i.startsWith("etudesAnterieures")){var n="#summary_".concat(c("da.declaration_etudes.name").replace(/(\s|é|è|à)/gi,"_")),r=document.querySelector(n).getBoundingClientRect();window.scrollTo({top:r.top-67+window.scrollY}),window.dispatchEvent(new Event("onEtudesAnterieuresFocus"))}else"profil.phoneNumber3"===i?((n=document.querySelector('input[name="'.concat(i,'"]')).parentElement.querySelector('input[type="tel"]'))&&n.focus(),t&&t.scrollIntoView()):(o.blur(i),e&&e.focus(),t&&t.scrollIntoView())}}(d)}},r.createElement("div",null,r.createElement("span",null,c("da.validatorDA.fixNow")),r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"",viewBox:"0 0 24 24"},r.createElement("circle",{cx:"12",cy:"12",r:"12",fill:"#FF0000"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M 6.5 11.5 L 8 13 L 12 9 L 16 13 L 17.5 11.5 L 12 6 Z",fill:"white"}),r.createElement("rect",{x:"11",y:"7",width:"2",height:"10",fill:"white"})))):r.createElement(r.Fragment,null,f?r.createElement("div",{className:"helpButton",onClick:f},r.createElement("div",null,r.createElement("span",null,c("da.validatorDA.fixNow")),(0,_.N0)("#ff0000"))):r.createElement("div",{className:"helpButton",onClick:J},r.createElement("div",null,r.createElement("span",null,c("da.validatorDA.getHelp")),(0,_.N0)("#ff0000")))))},J=function(){var e=window.Beacon;e&&e("open")};const G=function(e){var t=e.form,n=e.children,o=e.disabled,s=(0,N.B)().t,l=r.useState(!1),c=l[0],u=l[1],d=r.useState([]),m=d[0],p=d[1],f=r.useState(!1),v=f[0],g=f[1],h=r.useState(!1),E=h[0],b=h[1],y=r.useState(!1),S=y[0],w=y[1],x=(0,a.lN)(),A=(0,i.d4)(function(e){return e.formState}),F=(0,i.d4)(function(e){return e.formState.readOnlyFields});return(0,r.useEffect)(function(){if(x.errors||x.submitErrors){var e=[],t=!1;for(var n in x.errors)if("etudesAnterieures"!==n)for(var r in x.errors[n])"revision-et-conseils"!==r?"declSubmit"!==r&&(F.includes("".concat(n,".").concat(r))||e.push("".concat(n,".").concat(r))):(w(!0),t=!0);else e.push(s("da.declaration_etudes.name"));t||w(!1);var a=x.submitErrors&&Object.keys(x.submitErrors).filter(function(e){return Object.keys(x.submitErrors[e]).length>0}).length>0,i=a,o=a;for(var n in x.submitErrors)for(var r in x.submitErrors[n])(!x.dirtyFieldsSinceLastSubmit["".concat(n,".").concat(r)]||"shared"===n&&"declSubmit"===r)&&(e.push("".concat(n,".").concat(r)),i=i&&(n===T.Ym||"etudesAnterieures"===n),o=o&&"shared"===n&&"declSubmit"===r);p(e),u(0===e.length||i||o),g(a)}else u(!0)},[x.errors,x.submitErrors,x.dirtyFieldsSinceLastSubmit]),(0,r.useEffect)(function(){b(x.submitting||A.isSubmitting)},[x.submitting,A.isSubmitting]),r.createElement(r.Fragment,null,m.length>0&&r.createElement(r.Fragment,null,r.createElement("h1",{id:"validationSection",className:o?"disabled":void 0},s("da.validatorDA.title")),r.createElement("div",{className:["question-separator",o?" disabled":void 0].join("")},r.createElement(q,null,s("da.validatorDA.missingInformation"))),r.createElement("div",{className:o?"disabled":void 0},r.createElement(I,null,(0,_.N0)(k.A.udem_rouge_erreur),r.createElement(H,null,s("da.validatorDA.needToFixToContinue"),v&&r.createElement("span",null,r.createElement("br",null),r.createElement("br",null),s("da.validatorDA.dontHesitate"),r.createElement("a",{onClick:J,href:"#"},s("da.validatorDA.contactAgentAdmission")),s("da.validatorDA.ifYouCantSubmit")))),m.map(function(e,n){return r.createElement(j,{key:n},r.createElement("div",{className:"info"},r.createElement(z,{field:e,form:t,disabled:o})))}))),0===m.length&&r.createElement(V,null,r.createElement("h3",{id:"validationSection"},s("da.validatorDA.success")),(0,_.fg)(k.A.udem_vert)),r.Children.map(n,function(e,t){var n=e;if(!n)return null;if(!c||E||S){var a=void 0,i=!1;return n.type.displayName&&"styled.h1"===n.type.displayName&&(a="disabled"),"revision-et-conseils"===e.key&&c&&!E?n:("revision-et-conseils"===e.key&&(i=!0),n=r.createElement(e.type,R(R({},e.props),{disabled:!c||E||S,overwriteValue:!0,className:a})),i&&window.dispatchEvent(new Event("onRefreshNavigation")),n)}return n}))};var Y=function(e){var t=(0,a.mN)(),n=r.useState(!1),i=n[0],o=n[1],s=[];return e.map(function(e){var t=(0,a.Mt)(e);s.push(t.input.value)}),r.useEffect(function(){var e=!0;s.map(function(t){e=e&&"O"===t}),o(!e)},[s]),!(t.getState().submitting||i)},Q=D.Ay.div({width:"calc(100% - 4px) !important",paddingBottom:"30px",div:{display:"flex",flexDirection:"column",justifyContent:"center",border:"".concat("2px solid ",k.A.udem_bleu_30),backgroundColor:k.A.udem_bleu_10,borderRadius:"6px",padding:"30px 10px"},span:{maxWidth:"472px",textAlign:"center",alignSelf:"center",fontSize:k.A.h3_font_size,fontWeight:700,fontFamily:"Figtree"},button:{margin:"20px auto !important",marginBottom:"0 !important",padding:"20px 40px !important",width:"calc(100% - 80px) !important"},"&.disabled":{opacity:.5}});const K=function(e){var t=e.ententeChampSynchro,n=e.isFree,a=e.disabled,o=e.hasSubmissionError,s=(0,N.B)().t,l=Y(t),c=a||!l?"disabled":void 0,u=(0,i.d4)(function(e){return e.formState});return r.createElement(Q,{className:c},r.createElement("div",null,o?r.createElement(r.Fragment,null,r.createElement("span",{className:"disabled"},s("da.validatorDA.finallyReadyLocked")),r.createElement("span",{className:"disabled"},s("da.validatorDA.lastStepLocked")),r.createElement("button",{className:"btn btn-primary",type:"submit",disabled:!0},s("da.page.submitButtonEch"))):r.createElement(r.Fragment,null,r.createElement("span",{className:c},s("da.validatorDA.lastStep")),r.createElement("button",{className:"btn btn-primary",type:"submit",disabled:!l||u.asPaymentLock},s(n?"da.page.submitButtonEch":"da.page.submitButton")))))};var W=n(4938),Z=n(7866),X=n(6911),$=n(4156),ee=n(9931),te=D.Ay.div({"&.disabled":{opacity:.5}});const ne=function(e){var t=e.numeroReference,n=e.fraisAdmission,i=e.totalDesFrais,o=e.disabled,s=e.form,l=e.ententeChampSynchro,c=(0,a.Mt)("profil.UMLastName"),u=(0,a.Mt)("profil.UMFirstName"),d=Y(l),m=o||!d?" disabled":"";return r.createElement(r.Fragment,null,r.createElement(te,{className:"question-header".concat(m)},r.createElement("h2",{id:"formSummary"},r.createElement(r.Fragment,null,(0,$.t)("da.paymentSummary.summaryAndPayment")))),r.createElement(te,{className:"question-separator".concat(m)},r.createElement("h3",null,r.createElement(r.Fragment,null,(0,$.t)("da.paymentSummary.programsSummary")))),r.createElement(te,{className:"tx-udemda-input paiement-summary pleine-largeur".concat(m)},s.getState().submitting&&r.createElement(ee.N,null),r.createElement("div",{className:"blueBoxed"},r.createElement(X.A,{nom:c.input.value,prenom:u.input.value,numeroReference:t,fraisAdmission:n,totalDesFrais:i}))))};var re=n(1651),ae=n(2579),ie=n(3880),oe=n(3776),se=n(6287),le=n(9418),ce=function(){return ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ce.apply(this,arguments)},ue=D.Ay.div({"&":{background:k.A.udem_bleu_10,padding:"15px",borderRadius:"12px",border:"solid 1px "+k.A.udem_bleu_30,marginBottom:"20px",marginTop:"30px"},"label.check":{alignItems:"flex-start"},".tx-udemda-checkbox":{paddingBottom:"0rem!important"},".label":{paddingTop:"4px"}});const de=r.memo(function(e){var t=e.conseils,n=e.das,a=e.dateDebutDesProgrammes,i=e.disabled,o=(0,N.B)().t,s=r.useRef(""),l=function(e){return e?e.map(function(e){return e.alertKey}).sort():[]},c=(0,r.useState)(l(t.data)),u=c[0],d=c[1],m=(0,r.useState)([]),p=m[0],f=m[1],v=(0,r.useState)(0),g=v[0],E=v[1],b=(0,oe.m)("renewRevisionConseil"),y=b.subscribe,S=b.unsubscribe;function w(e,t,n){var r=le.A.sanitize(e),a=(new DOMParser).parseFromString("<div>".concat(r,"</div>"),"text/html").body.firstElementChild;if(!a)return"";a.querySelectorAll("div").forEach(function(e){t.includes(e.id)||e.remove()});var i=a.querySelectorAll("div").length;E(i),i>0||a.querySelectorAll("p").forEach(function(e){return e.remove()});var o=a.querySelector("#pimaFrFooter");if(!n&&o){o.remove();var s=a.querySelectorAll("hr");s.length>0&&(s[s.length-1].style.display="none")}return a.innerHTML}y(function(e){var r=[],a=[],i=[];if(e.displayRevisionCandidatEtranger&&(i=t.data.filter(function(e){return"candidatEtrangerDateLimiteDepassee"===e.alertKey||"candidatEtrangerDateLimiteDemarches"===e.alertKey})),!e.removePimafr){r=t.data.filter(function(e){return"pimaFrGrouped"===e.alertKey});var o=x(n,e);a=r.reduce(function(t,n,r){var a=w(n.message.fr,o,e.needPiecesJustificatives);if(!(null==a?void 0:a.trim()))return t;var i=w(n.message.en,o,e.needPiecesJustificatives);return t.push(ce(ce({},n),{message:ce(ce({},n.message),{fr:a,en:i})})),t},[])}f(i.concat(a))}),(0,r.useEffect)(function(){return s.current=t.url,function(){S()}},[]);var x=function(e,t){var n,r,i=null!==(n=null==t?void 0:t.pimaFrDas)&&void 0!==n?n:[],o=i.length>0&&"test"===t.selectedOptionType,s=null!==(r=null==t?void 0:t.needPiecesJustificatives)&&void 0!==r&&r,l=o?i:e||[];return 0===t.selectedOptionType.length?[]:l.flatMap(function(e){var t,n=o?[JSON.parse(localStorage.getItem(se.WX)).date]:Array.from(new Set((null!==(t=e.ResultatsTest)&&void 0!==t?t:[]).map(function(e){return e.DateSession}))),r="S"===e.DecisionAdmission?"".concat(e.DecisionAdmission,"-").concat(e.DecisionPrescription,"-").concat(e.Programme):"".concat(e.DecisionAdmission,"-").concat(e.Programme),i=new Date(a[e.Trimestre]),l=new Date(i);l.setFullYear(l.getFullYear()-2);var c=n.some(function(e){return new Date(e)<l});return o?"I"===e.DecisionAdmission?c?["E-".concat(e.Programme),"IRT-".concat(e.Programme)]:["IRT-".concat(e.Programme)]:c?["E-".concat(e.Programme),r]:[r]:!e.DecisionAdmission&&s?["I-".concat(e.Programme)]:"I"===e.DecisionAdmission&&s?["".concat(e.DecisionAdmission,"-").concat(e.Programme)]:"N"===e.DecisionAdmission&&s?"F-".concat(e.Programme):"S"===e.DecisionAdmission&&"Y"===e.DecisionPrescription?["".concat(e.DecisionPrescription,"-").concat(e.Programme)]:void 0})};return(0,r.useEffect)(function(){var e=l(t.data);JSON.stringify(e)!==JSON.stringify(u)&&(h.N4.ChangeFieldValue("ctrl.revision-et-conseils",ie.Js),h.N4.ChangeFieldValue("shared.declSubmit",ie.Js)),d(e)},[t.data]),(0,r.useEffect)(function(){h.N4.ChangeFieldValue("ctrl.revision-et-conseils",0===p.length?ie.AT:ie.Js)},[p.length]),p&&0!=p.length?r.createElement(r.Fragment,null,r.createElement(he,{className:i?"disabled":void 0,id:"revisionEtConseilsSection"},o("da.revision.label")),r.createElement("div",{className:i?"question-separator revisions-et-conseils disabled":"question-separator revisions-et-conseils"},r.createElement("h2",null,o("da.revision.description1")),r.createElement("h3",null,o("da.revision.description2"))),r.createElement("div",{className:i?"disabled revisions-et-conseils":"revisions-et-conseils"},p.map(function(e){return r.createElement(ae.Ay,ce({key:e.alertKey},e,{title:g>1&&e.titles.fr.length>0?e.titles:e.title,paddingBottom:"0rem",disabled:i}))})),r.createElement("div",{className:i?"disabled":void 0},r.createElement(ue,null,r.createElement(ie.Ay,{champSynchro:"ctrl.revision-et-conseils",label:o("da.revision.acceptation"),validate:function(e){return e&&e!=ie.Js?void 0:o("da.invalidMessage.checkboxRequiredAutorisation")},disabled:i,required:!0,overwriteValue:!1,noErrorMessage:!0})))):null});var me=n(7267),pe=function(){return pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},pe.apply(this,arguments)},fe=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})},ve=function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},ge=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},he=D.Ay.h1({"&.disabled":{opacity:.5}});const Ee=r.memo(function(e){var t=e.daFormState,n=e.state,o=e.props,l=e.conseils,c=e.perProgrammeRef,u=e.disabled,d=e.dateDebutDesProgrammes,m=e.form,p=(0,N.B)().t,f=(0,r.useState)([])[0],v=(0,r.useState)([]),g=v[0],h=v[1],b=(0,a.Mt)("shared.UMResmType"),y=(0,a.Mt)("profil.UMStatAuCan"),S=m.getState().values.needMotifDeDispense,w=(0,a.Mt)("needMotifDeDispense"),x=S||w.input.value,A=(0,a.Mt)("needPiecesJustificatives"),F=(0,a.Mt)("selectedOptionType"),D="VE"===y.input.value,O="CARMS"===b.input.value||"STAG"===b.input.value||"false"===x,_=(0,oe.m)("renewPimaFrRevision"),k=_.subscribe,T=_.unsubscribe,R=(0,oe.m)("renewRevisionConseil").emitter;k(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fe(void 0,ge([],e,!0),void 0,function(e){return void 0===e&&(e=void 0),ve(this,function(t){return[2,(n=e.DAs,r=(null==n?void 0:n.length)?n:[],void(Array.isArray(r)&&r.length>0&&h(n)))];var n,r})})}),(0,r.useEffect)(function(){var e={displayRevisionCandidatEtranger:"VE"===y.input.value,removePimafr:"CARMS"===b.input.value||"STAG"===b.input.value||"false"===x,pimaFrDas:g,needPiecesJustificatives:A.input.value,selectedOptionType:F.input.value};R(e)},[g,function(){return D||O},A.input.value]),(0,r.useEffect)(function(){return function(){T()}},[]);var L=n.readOnlyFields&&n.readOnlyFields.length>0,B=(0,a.mN)(),M=function(e,t){if(n.readOnlyFields.includes(t)){var r=t.split("."),a=n.initialValues[r[0]][r[1]],i=(0,E.ud)(e,[]);if("oui_ou_non"===e.type&&e.required&&(i=E.mw),void 0!==i(a,[],B.getFieldState(t))){var o="fr"===C.A.language?e.libelle:e.libelleEn;f.push(o)}}};(0,r.useEffect)(function(){L&&(f.splice(0,f.length),n.questions.profil.forEach(function(e){if("string"==typeof e.champSynchro&&e.champSynchro.length>0)M(e,e.champSynchro);else if("object"==typeof e.champSynchro)for(var t in e.champSynchro){var n=e.champSynchro[t];"profil.birthstate"!=n&&M(e,n)}}))},[f]);var q="";n.devFlags.noReadOnly&&(q+=" Les champs Read Only ont été désactivés temporairement.<br/>"),n.devFlags.noImmutableValues&&(q+=" Les valeurs du dossier académique ne seront pas forcées à la soumission.<br/>"),n.devFlags.simulateSlowService&&(q+=" L'option pour simuler un ralentissement du service (15-30 sec) est activée."),n.devFlags.crashFormOnSave&&(q+=" L'option pour faire planter chacune des sauvegardes est activée."),n.devFlags.mockSISEtudesAnterieures&&(q=q+" La source de données pour les études antérieures de synchro (SIS) a été modifiée pour : "+n.devFlags.mockSISEtudesAnterieures),n.devFlags.erreursEtudes&&(q+=" L'option pour simuler des erreurs dans les études antérieures est activée.");var H=(0,i.d4)(function(e){return e.formState.readOnlyFields});return r.createElement(r.Fragment,null,r.createElement(P,{nameRenderer:"UdemDaForm"}),n.metaAsHiddenFields&&Object.keys(n.metaAsHiddenFields).map(function(e){return r.createElement(a.D0,{key:e,component:"input",type:"hidden",name:e,initialValue:n.metaAsHiddenFields[e]})}),!o.isProfilePage&&(t.profilElements.length>0||t.sharedElements.length>0)?r.createElement("h1",{className:u?"disabled":void 0,id:p("da.profil.label")},p("da.profil.label")):"",L&&0==f.length&&r.createElement(me.A,{alertKey:"profilFromSIS",type:"information",theme:"darker",className:"no-bg-simple",content:{message:(0,s.Ms)(p("da.profil.infoFromDossierAcademiqueAlert")),topLabel:(0,s.Ms)(p("da.warning.bon_a_savoir"))}}),L&&f.length>0&&r.createElement(me.A,{alertKey:"profilFromSISError",type:"important",className:"no-bg-simple",content:{message:(0,s.Ms)(p("da.profil.infoFromDossierAcademiqueAlertError",{champs:f.join(", ")})),topLabel:(0,s.Ms)(p("da.profil.problemeRecuperationDonnees")),icon:"warning"}}),q&&r.createElement(me.A,{alertKey:"devAlert",type:"warning",className:"no-bg-simple",content:{message:(0,s.Ms)(q),topLabel:(0,s.Ms)("Outils DEV activés"),icon:"warning"}}),t.profilElements,t.sharedElements,t.hasNonHiddenPerProgrammeElements?r.createElement(r.Fragment,null,r.createElement("h1",{className:u?"disabled":void 0,id:p("da.specificites.label")},p("da.specificites.label")),t.someProgramsDontHaveQuestions&&r.createElement(re.A,{libelle:p("da.page.notAllProgramsHaveSpecificQuestions")})):"",Object.keys(t.perProgrammeElementsByPrograms).map(function(e){return r.createElement(r.Fragment,{key:e},t.displayAutoHeader[e]&&r.createElement(r.Fragment,null,t.perProgrammeElementsByPrograms[e].header),r.createElement("div",{className:"no-bg",ref:function(t){return c.current[e]=t}},t.perProgrammeElementsByPrograms[e].elements))}),t.otherInfoQuestion&&r.createElement(r.Fragment,null,r.createElement("h1",{className:u?"disabled":void 0,id:p("da.otherInfo.sectionTitle")},p("da.otherInfo.sectionTitle")),r.createElement(W.A,{libelle:p("da.otherInfo.separatorTitle"),libelleEn:p("da.otherInfo.separatorTitle"),disabled:u,asH2:!0}),r.createElement(Z.A,pe({},t.otherInfoQuestion,{getDefaultValidator:(0,E.ud)(t.otherInfoQuestion,H),textarea:!0,disabled:u}))),!o.isProfilePage&&r.createElement(G,{form:m,disabled:u},r.createElement(de,{dateDebutDesProgrammes:d,das:n.pimaFr.DAs,conseils:l,disabled:u,key:"revision-et-conseils"}),r.createElement(he,{className:u?"disabled":void 0,id:p("da.deposer.label")},p("da.deposer.label")),t.ententeElements,r.createElement(ne,{numeroReference:n.numeroReference,fraisAdmission:n.fraisAdmission,totalDesFrais:n.totalDesFrais,ententeChampSynchro:t.ententeChampSynchro,form:m}),r.createElement(K,{ententeChampSynchro:t.ententeChampSynchro,isFree:n.isFree,hasSubmissionError:n.hasSubmissionError})))});var be,ye=(be=function(e,t){return be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},be(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}be(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Se=function(){return Se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Se.apply(this,arguments)},we=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},xe=67,Ae=function(e){var t=e.props,n=e.state,a=e.conseils,o=e.pimaFr,s=e.fraisParTrimestre,l=e.form,c=e.disabled,u=t.t,d=(0,A.PR)("da").setStatus,m={jsonInfoCountryLocalizedHref:JSON.parse(t.jsonInfoCountryLocalizedHref),pimaFr:o,dateDebutDesProgrammes:s},p=(0,r.useRef)({}),f=(0,r.useState)({ententeChampSynchro:[],ententeElements:[],otherInfoQuestion:void 0,perProgrammeElements:[],profilElements:[],sharedElements:[],questionIndex:0,perProgrammeElementsByPrograms:{},hasNonHiddenPerProgrammeElements:!1,someProgramsDontHaveQuestions:!1,displayAutoHeader:{},ready:!1}),v=f[0],g=f[1],h=(0,i.d4)(function(e){return e.formState.readOnlyFields}),E=function(){if(v.ready){var e=!1,t=!0,r={};Object.keys(p.current).forEach(function(n){var a,i,o,s,l,c=(i=p.current[n],o=[].filter.call(i.getElementsByTagName("input"),function(e){return"hidden"!=e.type}),s=i.getElementsByTagName("select"),l=!1,["instruction","alertBox","question-separator","question-header","question-sub-title"].forEach(function(e){var t=i.getElementsByClassName(e);l=l||0!==t.length}),!!(o.length+s.length)||l);e=e||c,t=t&&c,r=Se(Se({},r),((a={})[n]=c,a))}),g(Se(Se({},v),{hasNonHiddenPerProgrammeElements:e,someProgramsDontHaveQuestions:!t||n.someProgrammeHaveZeroPerProgrammeQuestions,displayAutoHeader:r}))}};return(0,r.useEffect)(function(){E()},[v.perProgrammeElements]),(0,r.useEffect)(function(){return window.addEventListener("onConditionalFormElVisibilityChange",E),function(){window.removeEventListener("onConditionalFormElVisibilityChange",E)}}),(0,r.useEffect)(function(){v.ready&&window.dispatchEvent(new Event("onRefreshNavigation"))},[v.displayAutoHeader,v.hasNonHiddenPerProgrammeElements]),(0,r.useEffect)(function(){for(var e,t,a=[],i=[],o=[],s=[],l=[],d={},p=void 0,f=0,E=0,b=n.questions.profil;E<b.length;E++){if((O=b[E]).index=f++,"entente"!==O.type){if("profil.languageCd"===O.champSynchro||"profil.langCd"===O.champSynchro){var y=C.A.language.toUpperCase();O.options=Ne(O.options,y)}s.push(S(O,m,h,c))}else console.log('Une question de type "entente" avec la nature "profil" a été volontairement ignorée !')}for(var w=0,x=null!==(e=n.questions.shared)&&void 0!==e?e:[];w<x.length;w++){(O=x[w]).index=f++,"shared.resmSectionFirstElement"===O.champSynchro&&l.push(r.createElement("h1",{className:c?"disabled":void 0},u("da.page.resmTitle"))),"entente"!==O.type?"shared.UMOtherInfo"==O.champSynchro?p=O:l.push(S(O,m,h,c)):(i.push(S(O,m,h,c)),a.push(O.champSynchro))}for(var A=null,F=[],N=0,D=null!==(t=n.questions.perProgramme)&&void 0!==t?t:[];N<D.length;N++){var O=D[N];if(A&&A===O.numeroRef||(F=[],d[A=O.numeroRef]={header:null,elements:null}),O.index=f++,"entente"!==O.type){var P=S(O,m,h,c);O.champSynchro==="prog_"+O.numeroRef+".autoHeader"?d[A].header=P:(o.push(P),F.push(P)),d[A].elements=F}else console.log('Une question de type "entente" avec la nature "par programme" a été volontairement ignorée !')}g(Se(Se({},v),{ententeChampSynchro:a,ententeElements:i,otherInfoQuestion:p,perProgrammeElements:o,profilElements:s,sharedElements:l,questionIndex:f,perProgrammeElementsByPrograms:d,ready:!0}))},[]),n.hasFatalError?(d(A.w.fatalError,String(n.fatalError)),r.createElement(r.Fragment,null)):r.createElement(r.Fragment,null,v.ready&&r.createElement(Ee,{dateDebutDesProgrammes:m.dateDebutDesProgrammes,daFormState:v,state:n,props:t,conseils:a,perProgrammeRef:p,form:l,disabled:c}))},Fe=function(e){function t(t){var n=e.call(this,t)||this;return n.formRef=r.createRef(),n.focusHandler=null,n.state={invalidation:n.props.invalidation,conseils:n.props.conseils},n.handleEnterPress=function(e){13===e.which&&(n.focusHandler.setFocusToNextInput(e.target),e.preventDefault())},n.onFormChange=function(){n.focusHandler.onKeyPressed(n.handleEnterPress,!0),n.focusHandler.onKeyPressed(n.handleEnterPress)},n.refreshDataAfterSave=n.refreshDataAfterSave.bind(n),n}return ye(t,e),t.prototype.unStandardizeEnterBehavior=function(e){var t=this;if(void 0===e&&(e=!1),this.formRef.current){var n=this.formRef.current.querySelectorAll("input, select");n.forEach(function(r,a){(e?r.removeEventListener:r.addEventListener).bind(r)("keypress",t.keypressed.bind(t,n,a))})}},t.prototype.keypressed=function(e,t,n){if(13===n.which){var r=t+1;e[r]&&(n.preventDefault(),e[r].focus())}},t.prototype.componentDidMount=function(){this.focusHandler=new x.N(this.formRef,["input","select"]),this.focusHandler.onKeyPressed(this.handleEnterPress),window.addEventListener("onFormChange",this.onFormChange)},t.prototype.componentWillUnmount=function(){this.focusHandler&&this.focusHandler.onKeyPressed(this.handleEnterPress,!1),window.removeEventListener("onFormChange",this.onFormChange)},t.getDerivedStateFromError=function(e){return{hasFatalError:!0,fatalError:e}},t.prototype.componentDidCatch=function(e,t){console.log("FIXME UdemDaForm error: ",e,t)},t.prototype.refreshDataAfterSave=function(e){var t=(0,this.context.getStatusContext)("da").setStatus;this.setState(function(e){return Se({},e)}),e.invalidation&&(this.setState(function(t){return Se(Se({},t),{invalidation:e.invalidation})}),t(A.w.invalidationsError,{invalidMsg:e.invalidation})),window.dispatchEvent(new Event("onRefreshNavigation"))},t.prototype.renderForm=function(){var e=this;return r.createElement(v.Ay,null,r.createElement(a.lV,{onSubmit:this.props.saveFormAndProceedToPaiement("fr"==C.A.language?this.props.checkoutUrlFr:this.props.checkoutUrlEn,this.refreshDataAfterSave),mutators:Se(Se({},g.A),{setValue:function(e,t,n){var r=e[0],a=e[1];(0,n.changeValue)(t,r,function(){return a})}}),subscription:{submitting:!0,pristine:!0,submitError:!0,submitErrors:!0},initialValues:this.props.initialValues,keepDirtyOnReinitialize:!0,render:function(t){var n=t.handleSubmit,a=t.form;return h.N4.Initialize(a.mutators.setValue),h.N4.ResetFieldState=a.resetFieldState,r.createElement("form",{onSubmit:n,ref:e.formRef,id:"DaForm"},r.createElement(f,{debounce:6e3,disabled:!!e.props.invalidation,save:e.props.save(e.refreshDataAfterSave)}),r.createElement(Ae,{props:e.props,state:e.props,conseils:e.state.conseils,pimaFr:e.props.pimaFr,fraisParTrimestre:Object.fromEntries(e.props.fraisAdmission.map(function(e){return[e.trimestre.admitTerm,new Date(1e3*e.trimestre.dateDebutTrimestre)]})),form:a,disabled:!!e.props.invalidation}))}}))},t.prototype.render=function(){var e=(0,this.context.getStatusContext)("da").status,t=null;return[A.w.ready,A.w.saveError].indexOf(e)>-1&&(t=this.renderForm()),r.createElement("div",{className:"udemda-form-container"},t)},t.contextType=A.Ms,t}(r.Component);function Ne(e,t){return we([],e,!0).sort(function(e,n){var r=e.value===t,a=n.value===t;return r&&!a?-1:!r&&a?1:0})}const Ce=function(e){var t=(0,A.PR)("da"),n=(0,F.B)(e.jsonHref,t,!0),a=(0,i.wA)();(0,r.useEffect)(function(){n.devFlags.noReadOnly?a((0,o.ay)([])):a((0,o.ay)(n.readOnlyFields))});var s=(0,N.B)().t;return 0===n.questions.profil.length?null:r.createElement(Fe,Se({},e,n,{t:s}))}},2034:(e,t,n)=>{n.d(t,{G:()=>i,g:()=>o});var r=n(713),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)},i=["Regulier","EtudesLibres","ProgrammeEchange","VisiteurDeRecherche","PartOfABaccap","StagePostdoctoral"],o=function(e){var t=this;this.getDemandes=function(){return t.demandes},this.getDemandesForGTM=function(e){return t.demandes.map(function(n){return t.getDemandeForGTM(n,e)})},this.getDemandeForGTM=function(e,t){void 0===t&&(t="fr");var n=e.programmeNumeroRef+" - "+e.programmeGtmTitre+" - "+e.programmeGtmNiveau;return new r.iN({item_id:e.programmeNumeroRef,item_name:n,item_variant:e.admitTerm,cycle:e.cycle[t],domaine:e.programmeGtmDomaine,diplome:e.programmeGtmNiveau,faculte:e.faculte,baccap:e.baccap.baccapSubPlan,baccapTitre:e.baccap.libelles[t],baccapOffert:e.programmeGtmOffersBaccaps})},this.demandes=[],e&&e.forEach(function(e){i.forEach(function(n){e["fraisParProgrammes"+n].forEach(function(n){t.demandes.push(a(a({},n),{trimestreName:e.trimestre.friendlyAdmitTerm.fr}))})})})}},2230:(e,t,n)=>{n.d(t,{x:()=>i});var r=n(6540),a=n(5414);function i(e){var t=e.i18n,n=e.defaultNS,i=e.children,o=(0,r.useMemo)(function(){return{i18n:t,defaultNS:n}},[t,n]);return(0,r.createElement)(a.gJ.Provider,{value:o},i)}},4104:(e,t,n)=>{var r=n(6540),a=n(5338),i=n(2230),o=n(3249);const s=function(e){var t=e.children;return r.createElement("div",{className:"udemda_page"},t)};var l,c=n(5999),u=n(8352),d=n(5293),m=n(3907),p=n(6423),f=n(7335),v=function(){return v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},v.apply(this,arguments)},g=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},h=void 0,E=void 0,b=!1,y=function(e){var t=e.isMobile,n=e.onClose,a=e.returnButton,i=e.linksJson,s=(0,m.B)().t,l=(0,f.PR)("da").status,c=(0,r.useState)([]),u=c[0],d=c[1],y=(0,p.cq)(u,{isMobile:t,onClose:n}),S=y.Navigation,w=y.openedTreeState,x=JSON.parse(i);(0,r.useEffect)(function(){return window.addEventListener("scroll",D),window.addEventListener("onFormChange",F),window.addEventListener("onRefreshNavigation",N),setTimeout(F,250),function(){window.removeEventListener("scroll",D),window.removeEventListener("onFormChange",F),window.removeEventListener("onRefreshNavigation",N),E&&E.disconnect()}},[]);var A=function(){if(document.querySelector("#DaForm")){C("#DaForm");var e=(0,p._x)(P());d(e)}},F=function(){window.removeEventListener("onFormChange",F),A()},N=function(){A()},C=function(e){var t=document.querySelector(e);t&&!E&&(E=new MutationObserver(_)).observe(t,{subtree:!0,childList:!0,attributeFilter:["class"],characterData:!1,characterDataOldValue:!1})},D=function(){b||(window.requestAnimationFrame(function(){var e=(0,p._x)(P());d(e),b=!1}),b=!0)},O=function(e,t){return-1===e.errCount.findIndex(function(e){return e===t})&&e.errCount.push(t),e.errCount},P=function(){for(var e,t=document.querySelectorAll("#DaForm h1, #DaForm .question-header h2, #DaForm .error"),n=[],r=void 0,a=function(a,i){var o=w.findIndex(function(e){return e===i})>-1,s=t[a],l={uid:"#"+s.id.replace(/(\s|é|è|à)/gi,"_"),title:s.innerText,childs:[],conseilsCount:[],errCount:[],isOpen:o,node:s};if("1"===s.outerHTML[2])r=v(v({},l),{isParent:!0,posY:s.getBoundingClientRect().top}),n.push(r),i++;else if("2"===s.outerHTML[2])r&&r.childs.push(v(v({},l),{isParent:!1,posY:s.getBoundingClientRect().top}));else if(r&&(r.errCount=O(r,s.parentElement),r.childs.length>0)){var c=r.childs[r.childs.length-1];c.errCount=O(c,s.parentElement)}e=i},i=0,o=0;i<t.length;i++)a(i,o),o=e;return function(e){var t=document.querySelectorAll(".revisions-et-conseils .message-conseil");if(t){var n=document.querySelector("[name='ctrl.revision-et-conseils']");if(n&&!n.checked&&!n.disabled){var r=[];t.forEach(function(e){e.classList.contains("disabled")||r.push(e)}),e.forEach(function(e){"#revisionEtConseilsSection"===e.uid?e.conseilsCount=r:e.conseilsCount=[]})}}}(n),n},_=function(e){clearTimeout(h),h=setTimeout(function(){if(e.find(function(e){for(var t=e.removedNodes.length>0?e.removedNodes:e.addedNodes,n=!1,r=0;r<t.length;r++){if(t[r].nodeType===Node.ELEMENT_NODE)if(t[r].classList.contains("error")){n=!0;break}}return n})){var t=(0,p._x)(P());d(g([],t,!0))}},250)};return 0===u.length?null:r.createElement(r.Fragment,null,l===f.w.ready&&r.createElement(S,{activeBorderOnNode:function(){for(var e,t=0;t<u.length;t++){var n=u[t];if(n.highlighted){e=n.uid;break}}return e}(),header:!!a&&r.createElement("header",null,r.createElement("div",null),r.createElement("div",{onClick:n},r.createElement("i",{className:"udem-icon-p-fermer-bleu10-moyen"})))},!!a&&r.createElement("div",{className:"backToCart"},r.createElement("a",{href:x.cart[o.A.language].url},r.createElement("i",{className:"udem-icon-retour-bleufonce"},"<"),r.createElement("span",null,s(a.buttonLabelTranslationKey)))),r.createElement(p.gi,null)))},S=n(5595),w=n(7264),x=n(713),A=c.Ay.header({".container-xxl":(l={paddingLeft:"0px!important",paddingRight:"0px!important",height:"3rem!important"},l[S.lS.xs]={paddingLeft:"1.5625rem!important",paddingRight:"1.5625rem!important"},l[S.lS.sm]={height:"5rem!important"},l),"span.error-field":{color:u.A.udem_rouge_erreur},"&.daError":{marginBottom:"0px !important"},svg:{width:"30px",paddingBottom:"3px"}});const F=function(e){var t=e.children,n=e.returnButton,a=e.linksJson,i=e.jsonUserInfoUrl,o=(0,f.PR)("da"),s=(0,m.B)(),l=s.t,c=s.i18n;(0,r.useEffect)(function(){var e=function(){i&&(0,x.z9)(i)};return window.addEventListener("load",e),function(){window.removeEventListener("load",e)}},[]);var u=(0,r.useState)(!1),p=u[0],v=u[1],g=function(){v(!p)},h=o.isMobile&&-1===[f.w.ready,f.w.loading].indexOf(o.status),E=JSON.parse(a);return r.createElement(r.Fragment,null,r.createElement(A,{className:["tx-udemda-header navbar navbar-expand-md navbar-dark bd-navbar",h?"daError":void 0].join(" ")},p&&o.isMobile&&r.createElement(y,{returnButton:n,isMobile:!0,onClose:g,linksJson:a}),r.createElement("nav",{className:"container-xxl flex-wrap flex-md-nowrap","aria-label":"Main navigation"},r.createElement("div",{className:"navbar-da-return"},r.createElement("a",{href:E.cart[c.language].url,className:"btn btn-header-da",type:"button"},r.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7321 6.31787L9.31787 7.73208L13.5359 11.9501L9.42811 16.0579L10.8423 17.4721L16.3644 11.95L14.9502 10.5358L14.9501 10.5359L10.7321 6.31787Z"})),r.createElement("span",null,l(n.buttonLabelTranslationKey)))),r.createElement("button",{className:"navbar-toggler",type:"button",onClick:g,"aria-label":l("da.aria.navDA")},r.createElement("span",{className:"navbar-toggler-icon"})),r.createElement(d.J,{show:!o.isMobile}),t,r.createElement(w.S,null))),r.createElement("div",{className:"mobile"},o.status===f.w.ready&&r.createElement(d.J,{show:o.isMobile})))};const N=function(e){var t=e.children,n=e.invalidDa,a=e.linksJson;return r.createElement("div",{className:"udemda_container"},r.createElement("div",{className:"udemda_main_content"},n?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"udemda_summary",style:{position:"sticky",top:"140px"}},r.createElement(y,{linksJson:a})),t)))};const C=function(e){var t=e.linksJson,n=(0,m.B)().i18n,a=JSON.parse(t);(0,r.useEffect)(function(){i(n.language,!1)},[n.language]);var i=function(e,t){"en"!=e&&"fr"!=e||(window.history.pushState({},"",a.formda[e].url),document.title=a.formda[e].pageTitle,t&&n.changeLanguage(e),setTimeout(function(){window.dispatchEvent(new Event("onRefreshNavigation"))},40))};return r.createElement("div",{className:"tx-udemda-lang-toggle"},r.createElement("label",{className:"switch"},r.createElement("input",{type:"checkbox",onChange:function(){var e=n.language;i(e="en"==e?"fr":"en",!0)},checked:"fr"==n.language}),r.createElement("span",{className:"slider round"},r.createElement("span",{className:"slider-fr"},"FR"),r.createElement("span",{className:"slider-en"},"EN"))))};var D=n(1092),O=n(6939),P=n(1448),_=n(8131),k=n(5225),T=n(2754),R=n(1046),L=n(2012);Array.from(document.querySelectorAll(".tx-udemda-main")).forEach(function(e){var t=e.getAttribute("data-tx-udemda-url-info-user"),n=e.getAttribute("data-tx-udemda-login-url"),l=e.getAttribute("data-tx-udemda-json-href"),c=e.getAttribute("data-tx-udemda-json-infoCountry"),u=e.getAttribute("data-tx-udemda-json-links"),d=e.getAttribute("data-tx-udemda-cart-href"),m={returnHref:d,buttonLabelTranslationKey:"da.page.returnToCart"},p=e.getAttribute("data-tx-udemda-multi-aide-glossaire"),v=(0,L.Vr)(p);(0,a.H)(e).render(r.createElement(r.StrictMode,null,r.createElement(P.Kq,{store:k.A},r.createElement(_.Q,{loading:null,persistor:k.q},r.createElement(i.x,{i18n:o.A},r.createElement(s,{returnHref:d,linksJson:u},r.createElement(f.M3,{initialStatus:{etudesAnterieures:f.w.ready},defaultReturnHref:d,loginUrl:n,contextes:["da","etudesAnterieures","etablissementsEchanges"]},r.createElement(R.A,{language:document.documentElement.lang?document.documentElement.lang:"fr"},r.createElement(L.sc.Provider,{value:v},r.createElement(F,{returnButton:m,linksJson:u,jsonUserInfoUrl:t},r.createElement(C,{linksJson:u})),r.createElement(T.$5,{contextId:"da",type:"page"},r.createElement(N,{linksJson:u},r.createElement(O.EA,null,r.createElement(D.Ay,{jsonHref:l,linksJson:u,jsonInfoCountryLocalizedHref:c,returnHref:d})))))))))))))})},5338:(e,t,n)=>{var r=n(961);t.H=r.createRoot,r.hydrateRoot},6423:(e,t,n)=>{n.d(t,{_x:()=>p,cq:()=>f,gi:()=>g});var r=n(6540),a=n(3907),i=n(5999),o=n(8352),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)},l=i.Ay.div({position:"absolute",top:0,left:0,width:"100vw",backgroundColor:o.A.udem_bleu_fonce,opacity:.4,zIndex:9e3,marginLeft:"0px!important"}),c=i.Ay.div({zIndex:1e4,width:"100%",fontSize:o.A.font_size_lg,color:o.A.udem_bleu_fonce,fontWeight:500,lineHeight:"120%",borderRadius:"0px 0px 5px 5px","&.mobile":{marginLeft:"0px!important",width:"100vw",maxHeight:"calc(100vh - 20px)",position:"fixed",backgroundColor:o.A.udem_blanc,top:0},".sub":{display:"block",paddingLeft:0,paddingRight:0,overflowY:"auto",overflowX:"hidden"},".mobile":{marginLeft:"0px!important",maxHeight:"calc(100vh - 80px)",overflow:"auto",button:{border:"none",padding:"10px",width:"calc(100% - 20px)",margin:"20px 10px"}},".scrl":{maxHeight:"calc(100vh - 240px)",overflow:"auto",overflowX:"hidden",border:"none !important",backgroundColor:"transparent !important","&::-webkit-scrollbar":{width:"5px",height:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#bbb"}},".scrl > div":{backgroundColor:o.A.udem_blanc,borderLeft:"4px solid ".concat(o.A.udem_bleu_30),left:"2px",minHeight:"46px"},i:{width:"25px",height:"25px",margin:"0px 10px",verticalAlign:"middle"},".errCount, .conseilsCount":{i:{verticalAlign:"top",margin:"0px 0px",marginRight:"3px",marginTop:"3px"}},header:{display:"flex",flexDirection:"row",justifyContent:"center",borderBottom:"1px solid ".concat(o.A.udem_bleu_10),height:"60px",flexBasis:"content",a:{textDecoration:"none",color:o.A.udem_bleu_fonce,"i, span":{display:"inline-block",verticalAlign:"middle"}},div:{flex:1,alignSelf:"center"},"div:nth-child(1)":{flex:14}},".backToCart":{padding:"10px 0px",span:{verticalAlign:"middle"}},button:{border:"1px solid ".concat(o.A.udem_bleu_30),borderRadius:"5px",margin:"20px 0px",color:o.A.udem_bleu,backgroundColor:o.A.udem_bleu_10,fontSize:o.A.font_size_sm,width:"100%",padding:"5px 10px",div:{textAlign:"left",alignItems:"center",display:"flex",span:{display:"inline-block",flex:10},i:{margin:0,flex:1,maxWidth:"40px"}}}}),u=i.Ay.div({position:"absolute",width:"6px",height:"100%",backgroundColor:o.A.udem_bleu,top:"0px",left:"-4px"}),d=i.Ay.div({paddingTop:"10px",paddingBottom:"10px",borderTop:"1px solid ".concat(o.A.udem_bleu_10),cursor:"pointer",position:"relative",".item":{display:"flex",alignItems:"center",paddingLeft:"10px",".text":{vertificalAlign:"middle",margin:"0px",flex:15,fontSize:o.A.font_size_base,"@media (min-width: 1180px)":{fontSize:o.A.font_size_lg}},".icon":{flex:1,margin:"0px",minHeight:"25px"},span:{verticalAlign:"top",color:o.A.udem_blanc,borderRadius:"10px",padding:"0px 10px",fontSize:o.A.font_size_xs,height:"20px",display:"inline-block",i:{height:"15px",width:"15px"}},"span.conseilsCount, span.conseilsCountSpan":{backgroundColor:o.A.warning,color:o.A.udem_bleu_fonce},"span.errCount, span.errCountSpan":{backgroundColor:o.A.udem_rouge_erreur}},".sub .item .text":{fontSize:o.A.font_size_sm},"&.current":{backgroundColor:"".concat(o.A.udem_vert_20," !important")},"&.open":{paddingBottom:"0px"},"a, a:visited":{display:"block",textDecoration:"none",color:o.A.udem_bleu_fonce,paddingLeft:"10px"}}),m=i.Ay.div({padding:"4px 0px",paddingLeft:"0px !important",paddingRight:"0px !important",cursor:"pointer",p:{margin:"0px",fontSize:o.A.font_size_sm},"&:nth-child(1)":{marginTop:"10px"},"a, a:visited":{display:"block",textDecoration:"none",color:"".concat(o.A.udem_bleu," !important"),paddingLeft:"10px"},"&.current":{backgroundColor:o.A.udem_vert_20}}),p=function(e,t){void 0===t&&(t=160);var n=e;n.sort(function(e,t){return t.posY-e.posY});var r=n.map(function(e){return e.posY}).map(function(e){return e+window.scrollY}).findIndex(function(e){return e<=window.scrollY+t});if(n.forEach(function(e,t){return e.highlighted=t===(-1===r?n.length-1:r)}),r>-1){var a=n[r];a.isOpen&&a.childs.length>0&&(a.childs=p(a.childs,t))}return n.sort(function(e,t){return e.posY-t.posY})},f=function(e,t){var n=(0,a.B)().t,i=(0,r.useState)(e),o=i[0],f=i[1],v=(0,r.useState)([])[0],g=s(s({},t),{DivNavigation:t.DivNavigation?t.DivNavigation:c});(0,r.useEffect)(function(){e&&e.length>0&&f(e)},[e]);var h=function(e){var t=function(e){if(g.canHaveMultipleOpenedSection)return o.slice();var t=o.slice();return t.forEach(function(t,n){n!==e&&(t.isOpen=!1,t.childs.forEach(function(e){return e.isOpen=!1}))}),t}(e),n=!t[e].isOpen;t[e].isOpen=n,v.splice(0,v.length);for(var r=0;r<t.length;r++)o[r].isOpen&&v.push(r);f(p(t))},E=function(e){var t=e.tree,a=e.isSub,i=e.activeBorderOnNode,o=a?m:d,s=function(e){var t=[];return e.highlighted&&function(e){return!e.isOpen||0===e.childs.length}(e)&&t.push("current"),e.isOpen&&t.push("open"),t.join(" ")},l=function(e,t,n){t.childs.length>0?h(n):(t.uid.startsWith("#")&&function(e,t){g.onClose&&setTimeout(g.onClose,150),e.preventDefault(),(!t.node||t.node&&!t.node.isConnected)&&(t.node=document.querySelector(t.uid));var n=document.querySelector("header"),r=120;if("unset"!==n.style.display){var a=n.getBoundingClientRect().height+10;r=a<r?80:a}var i=t.node&&t.node.isConnected?t.node.getBoundingClientRect().top:t.posY;window.scrollTo({top:i-r+window.scrollY}),g.additionalBehavior&&g.additionalBehavior.monCompteMobile&&g.additionalBehavior.monCompteMobile()}(e,t),e.currentTarget.querySelector("a").click())};return r.createElement(r.Fragment,null,t.map(function(e,t){return r.createElement(o,{key:"".concat(e.title,"_").concat(t),className:s(e)},i===e.uid&&r.createElement(u,null),r.createElement("div",{className:"item",onClick:function(n){return l(n,e,t)}},r.createElement("div",{className:"text"},r.createElement("a",{onClick:function(t){return function(e,t){return g.ignoreRedirectOnParent&&t.isParent?(e.preventDefault(),!1):!t.uid.startsWith("#")||(e.preventDefault(),!1)}(t,e)},href:e.uid},e.title," ",function(e){var t=e.errCount.length;return 0===t?null:e.isParent?r.createElement("span",{className:"errCount"},r.createElement("i",{className:"udem-icon-attention-blanc"}),t," ",n("da.nav.error"),t>1?"s":""):r.createElement("span",{className:"errCountSpan"},t.toString())}(e)," ",function(e){if(!e.conseilsCount)return null;var t=e.conseilsCount.length;return 0===t?null:e.isParent?r.createElement("span",{className:"conseilsCount"},r.createElement("i",{className:"udem-icon-attention-noir"}),t," ",n("da.nav.conseil"),t>1?"s":""):r.createElement("span",{className:"conseilsCountSpan"},t.toString())}(e))),r.createElement("div",{className:"icon"},e.childs.length>0&&r.createElement("i",{className:e.isOpen?"udem-icon-circled-chevron-haut-bleu":"udem-icon-circled-chevron-bas-bleu"}))),r.createElement("div",{className:"sub"},e.isOpen&&r.createElement(E,{key:"".concat(e.title,"_").concat(t,"_childs"),tree:e.childs,isSub:!0})))}))};return{Navigation:(0,r.memo)(function(e){var t=e.header,n=e.children,a=e.activeBorderOnNode;return g.isMobile?r.createElement(r.Fragment,null,r.createElement(l,{style:{height:"".concat(document.body.clientHeight,"px")}}),r.createElement(g.DivNavigation,{className:"mobile"},t,r.createElement("div",{className:"mobile"},r.createElement(E,{tree:o}),n))):r.createElement(g.DivNavigation,null,r.createElement("div",{className:"scrl"},r.createElement(E,{tree:o,activeBorderOnNode:a})),n)}),openedTreeState:v}},v=function(){var e=window.Beacon;e&&e("open")},g=function(){var e=(0,a.B)().t,t=window.Beacon,n=!!t;return t&&void 0===t("info")&&(n=!1),n?r.createElement("div",null,r.createElement("button",{onClick:v},r.createElement("div",null,r.createElement("span",null,e("da.nav.aide")),r.createElement("i",{className:"udem-icon-question-bleu"})))):null}},6911:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(3249),a=n(6577),i=n(6540),o=n(5999),s=n(2034),l=n(4156),c=n(5842),u=n(5662),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d.apply(this,arguments)},m=o.Ay.div({"&.disabled":{opacity:.5}});const p=function(e){var t,n=e.nom,o=e.prenom,p=e.numeroReference,f=e.fraisAdmission,v=e.totalDesFrais,g=e.showOnlyTable,h=void 0!==g&&g,E=e.submitDate,b=e.receiptUrl,y=s.G,S=(0,u._v)(f),w=(0,u.dj)(S),x=function(e){var t,n;return n=e.titre[r.A.language]?e.titre:{fr:e.titre,en:e.titre},i.createElement("tr",null,i.createElement("td",null,i.createElement("div",{className:"daInfos"},i.createElement("span",{className:"num-da td-num-da"},i.createElement("span",{className:"num-da-prefix"},i.createElement(i.Fragment,null,(0,l.t)("da.paymentSummary.DaNo"))),e.numeroDemande),i.createElement("span",{className:"program td-program"},(null===(t=null==e?void 0:e.baccap)||void 0===t?void 0:t.codeBaccap)&&i.createElement(i.Fragment,null,(0,u.dI)()),i.createElement(a.A,{key:"prog_"+e.programmeNumeroRef,content:e.programmeNumero+" "+n[r.A.language]})),i.createElement("span",{className:"cycle td-cycle"},i.createElement(a.A,{key:"cycle_"+e.programmeNumeroRef,content:e.cycle[r.A.language]}))),"discount"===e.type?i.createElement("span",{className:"fee td-fee text-end"},i.createElement(c.A,{value:-e.fraisParProgramme,showCurrency:!0,lang:r.A.language})):i.createElement("span",{className:"fee td-fee text-end"},i.createElement(c.A,{value:e.fraisParProgramme,showCurrency:!0,lang:r.A.language}))))},A=function(e){return i.createElement("tr",{className:"discount-baccap"},i.createElement("td",null,i.createElement("div",{className:"program-baccap-header"},i.createElement("div",{className:"titre-baccap-container"},(0,u.dI)(),i.createElement("div",{className:"titre-baccap"},i.createElement("div",{className:"titre-baccap-global"},"BACCAP"),i.createElement("div",{className:"titre-baccap-specifique"},e.baccap.libelles[r.A.language])))),i.createElement(u.ax,{codeBaccap:e.baccap.codeBaccap,fraisAdmission:f}),i.createElement("span",{className:"fee td-base-fee text-end"},i.createElement(c.A,{value:-e.total,showCurrency:!0,lang:r.A.language}))))};return i.createElement(m,{className:h?"blueBoxed":"form-section paiement-summary"},!h&&i.createElement(i.Fragment,null,i.createElement("h4",null,i.createElement(i.Fragment,null,o.length>0||n.length>0?(0,l.t)("da.paymentSummary.inTheNameOf"):(0,l.t)("da.cart.da"),i.createElement("span",null," ",o," ",n))),i.createElement("h4",null,i.createElement(i.Fragment,null,(0,l.t)("da.paymentSummary.numRef"))," : ",p)),!!E&&i.createElement("h4",null,i.createElement("span",null,E)),i.createElement("table",{className:"table"},S.map(function(e,t){return i.createElement(i.Fragment,{key:t},i.createElement("thead",null,i.createElement("tr",null,i.createElement("th",null,i.createElement(i.Fragment,null,(0,l.t)("da.modifyCart.trimestreLabel"))," ",e.trimestre.friendlyAdmitTerm[r.A.language]))),i.createElement("tbody",null,i.createElement("tr",null,i.createElement("th",null,i.createElement("span",{className:"th-da"},i.createElement(i.Fragment,null,(0,l.t)("da.paymentSummary.Da"))),i.createElement("span",{className:"num-da th-num-da"},i.createElement(i.Fragment,null,(0,l.t)("da.paymentSummary.NoDa"))),i.createElement("span",{className:"program th-program"},i.createElement(i.Fragment,null,(0,l.t)("da.modifyCart.programmeLabel_default"))),i.createElement("span",{className:"cycle th-cycle"},i.createElement(i.Fragment,null,(0,l.t)("da.paymentSummary.Cycle"))),i.createElement("span",{className:"fee th-fee text-end"},i.createElement(i.Fragment,null,(0,l.t)("da.cart.fees"))))),0!==e.fraisDeBase&&i.createElement("tr",null,i.createElement("td",null,i.createElement("div",{className:"daInfos"},i.createElement("span",{className:"num-da base-fee-num-da"}," "),i.createElement("span",{className:"program base-fee-program"},i.createElement(i.Fragment,null,(0,l.t)("da.cart.baseFees"))),i.createElement("span",{className:"cycle base-fee-cycle"}," ")),i.createElement("span",{className:"fee td-base-fee text-end"},i.createElement(c.A,{value:e.fraisDeBase,showCurrency:!0,lang:r.A.language})))),function(e){var t=[];return y.forEach(function(n){var r="fraisParProgrammes"+n;"PartOfABaccap"!==n&&e[r].forEach(function(e,n){t.push(i.createElement(x,d({key:r+"_"+n},e)))})}),t}(e)))}),w.length>0&&i.createElement(i.Fragment,null,i.createElement("thead",null,i.createElement("tr",null,i.createElement("th",null,i.createElement(i.Fragment,null,(0,l.t)("da.modifyCart.ajustements"))))),i.createElement("tbody",{className:"discounts-wrapper"},(t=[],w.forEach(function(e,n){t.push(i.createElement(A,d({key:n},e)))}),t))),i.createElement("tfoot",null,i.createElement("tr",null,i.createElement("th",null,i.createElement("span",null,i.createElement(i.Fragment,null,(0,l.t)("da.cart.total"))),i.createElement("span",{className:"text-end"},i.createElement(c.A,{value:v,showCurrency:!0,lang:r.A.language})))),b&&i.createElement("tr",null,i.createElement("td",null,i.createElement("a",{href:b,role:"button"},i.createElement(i.Fragment,null,(0,l.t)("da.paymentSummary.receiptLink"))))))))}},7264:(e,t,n)=>{n.d(t,{S:()=>c});var r=n(6540),a=n(8352),i=n(5662),o=n(1448),s=n(3907),l=n(5635),c=function(){var e=(0,o.d4)(function(e){return e.formState}),t=(0,s.B)().t,n=(0,o.wA)();return r.useEffect(function(){n((0,l.Tf)())},[]),r.createElement("div",{className:"tx-udemda-navsave"},r.createElement(r.Fragment,null,e.errorState&&(0,i.N0)(a.A.udem_rouge_erreur),r.createElement("span",{className:e.errorState?"error-field":void 0},e.isSaving&&r.createElement(r.Fragment,null,t("da.page.saving"),r.createElement("br",null)),!e.isSaving&&e.lastSaveISO&&r.createElement(r.Fragment,null,t("da.page.savedAt"),r.createElement("br",null),r.createElement("time",{dateTime:e.lastSaveISO},e.lastSaveLocal)))),r.createElement("button",{"aria-label":t("da.aria.btnSave"),type:"button",form:"DaForm",className:"btn btn-link",onClick:function(){n((0,l.I5)())},disabled:e.asPaymentLock||e.isSaving||e.isSubmitting},r.createElement("div",{className:"tx-udemda-save-icon"},r.createElement("svg",{viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M20.59 6.59C20.21 6.21 19.7 6 19.17 6H8C6.89 6 6 6.9 6 8V22C6 23.1 6.9 24 8 24H22C23.1 24 24 23.1 24 22V10.83C24 10.3 23.79 9.79 23.41 9.42L20.59 6.59ZM15 22C13.34 22 12 20.66 12 19C12 17.34 13.34 16 15 16C16.66 16 18 17.34 18 19C18 20.66 16.66 22 15 22ZM16 12H10C8.9 12 8 11.1 8 10C8 8.9 8.9 8 10 8H16C17.1 8 18 8.9 18 10C18 11.1 17.1 12 16 12Z",fill:"#006BB6"})))))}},9349:(e,t,n)=>{n.d(t,{B:()=>S});var r=n(7356),a=n(4156),i=n(6540),o=n(3907),s=n(2034),l=n(1092),c=n(3914),u=n(7335),d=n(2012),m=n(3249),p=function(e,t,n){var a=e.champSynchro;a="birthdate"===a?"birthday":a;for(var i=null,o=!0,s="",l=0,c=n;l<c.length;l++){var u=c[l];if("etudesAnterieures"===u){s=m.A.t("da.validatorDA.declarationEtudesError"),t[u][a]=s+e.description,o=!1;break}if(u.startsWith("etudesAnterieures")?(s=m.A.t("da.validatorDA.declarationEtudesError"),i=document.querySelector('[name="'.concat(u,".").concat(a,'"]'))):i=document.querySelector('[name="'.concat(u,".").concat(a,'"]')),i&&"hidden"!==i.type){t[u][a]=s+e.description;break}}return i&&"hidden"!==i.type||!o||(t[r.Ym][a]=s+e.description),t},f=n(713),v=n(3880),g=n(5635),h=n(1448),E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},E.apply(this,arguments)},b=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})},y=function(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},S=function(e,t,n,m){void 0===m&&(m=!1);var v=(0,d.Ct)(n),S=(0,o.B)(),A=S.t,F=S.i18n,N=(0,h.wA)(),C=(0,f.uG)().cart_gtm,D=m?w(e,t):x(e,t,n),O=D.questions,P=D.initialValues,_=D.readOnlyFields,k=D.devFlags,T=D.metaAsHiddenFields,R=D.someProgrammeHaveZeroPerProgrammeQuestions,L=D.invalidation,B=D.conseils,M=D.fraisAdmission,q=D.totalDesFrais,H=D.numeroReference,I=D.checkoutUrlFr,j=D.checkoutUrlEn,V=D.acadPlansOfDA,U=D.isFree,z=D.hasSubmissionError,J=D.hasQuestions,G=D.listesDemandesSoumises,Y=D.pimaFr;(0,i.useEffect)(function(){C.reset_cart();var e=new s.g(M).getDemandesForGTM(F.language);e&&e.forEach(function(e){C.silently_add_item(e)})},[M]);var Q=(0,c.bK)(t,"",[function(e){var n=(0,c.xz)(A,t)(e);return n.auth.status=u.w.saveError,n.auth.result.invalidMsg.closable=!0,E(E({},n),{error_server:{predicat:e.response.status>=500&&e.response.status<600&&function(){var e=localStorage.getItem("persist:formState");if(!e)return!0;var t=JSON.parse(e);return!t||("true"===t.userAskedToSaveForm||parseInt(t.countSaveError)>parseInt(t.maxCountSaveTry)-1)}()&&!(e.response.headers["udem-admission-error-code"]?e.response.headers["udem-admission-error-code"]:"").endsWith("99999"),status:u.w.saveError,result:{invalidMsg:{title:A("da.invalidationDa.errorSavingTitle"),fatalError:void 0,noReturnHref:!0,closable:!0,additionalMessage:(0,d.PV)(A("da.invalidationDa.errorSavingMsg"))},returnHref:null,ecode:e.response.headers["udem-admission-error-code"]?e.response.headers["udem-admission-error-code"]:""}}})}]),K=(0,c.N7)(e.concat("&auto=1"),Q).postData,W=(0,c.N7)(e).postData;return{questions:O,initialValues:P,readOnlyFields:_,devFlags:k,metaAsHiddenFields:T,someProgrammeHaveZeroPerProgrammeQuestions:R,invalidation:L,conseils:B,fraisAdmission:M,totalDesFrais:q,numeroReference:H,checkoutUrlFr:I,checkoutUrlEn:j,acadPlansOfDA:V,isFree:U,hasSubmissionError:z,hasQuestions:J,save:function(e){return function(t,n){return b(void 0,void 0,void 0,function(){var r,i;return y(this,function(o){switch(o.label){case 0:return(r=Object.assign({},t)).isFromProfile=m,r.profil.profLangCD=a.Ay.language.toUpperCase(),v("info","UdemDaForm ToBePosted data:",r),[4,K(r,{cancelToken:n.token})];case 1:return 200===(i=o.sent()).status&&e&&e(i.data),[2,i]}})})}},saveFormAndProceedToPaiement:function(e,t){return function(n,i){return b(void 0,void 0,void 0,function(){var i,o,s,c,u,d,m,f,h,E,b,S,w;return y(this,function(y){switch(y.label){case 0:return(i=Object.assign({},n)).profil.profLangCD=a.Ay.language.toUpperCase(),i.simulate=!0,v("info","UdemDaForm ToBePosted data:",i),N((0,g.dc)()),[4,W(i)];case 1:return o=y.sent(),s=o.data,(c=200===o.status)&&s.submitSimulation.isValid?(C.set_ud_country(s.profil.country),C.set_ud_region(s.profil.state),C.set_ud_city(s.profil.city),C.set_transaction_id(s.transactionId),u=localStorage.getItem("preferences"),d=u?JSON.parse(u):null,(m=d&&d.situation_etudiant?d.situation_etudiant.value:null)&&C.set_ud_previous_study(m),C.send_add_payment_info(),window.location.href=e,[2]):(N((0,g.P3)()),c&&!s.submitSimulation.isValid&&!s.invalidation&&s.hasSubmitted?(v("info","TODO - Handle sumbmissions errors",s.submitSimulation.listeErreurs),f=function(e,t){for(var n,a=((n={})[r.Ym]={},n["ctrl-profil"]={},n.profil={},n.etudesAnterieures={},n.shared={},n["ctrl-shared"]={},n),i=0,o=t;i<o.length;i++){var s=o[i];a["ctrl-prog_"+s]={},a["prog_"+s]={}}var l=!1;return e.donneesNominativesErrors.map(function(e){a=p(e,a,["ctrl-profil","profil"])}),e.etudesAnterieuresErrors.map(function(e){var t=[];t.push("etudesAnterieures"),a=p(e,a,t)}),e.demandesAdmissionErrors.map(function(e){if(0!==t.length){for(var n=["ctrl-shared","shared"],r="",i=0,o=t;i<o.length;i++){var s=o[i];n.push("ctrl-prog_".concat(s)),n.push("prog_".concat(s)),e.description.includes(s)&&(r=s)}if(""!==r){var l=["ctrl-shared","shared","ctrl-prog_".concat(r),"prog_".concat(r)];a=p(e,a,l)}else a=p(e,a,n)}}),Object.keys(e).map(function(t){switch(l=!0,t){case"trimestresErrors":case"otherErrors":e[t].map(function(e){a=p(e,a,[])})}}),[a,l]}(s.submitSimulation.listeErreurs,V),h=f[0],f[1]&&(E="#validationSection",b=document.querySelector(E),S=b.getBoundingClientRect(),window.scrollTo({top:S.top-l.Gs+window.scrollY})),[2,h]):(c&&s.invalidation&&s.invalidation.datesLimitesErrors?(s.invalidation.datesLimitesErrors.length>0&&v("warn","Dates limites errors",s.invalidation.datesLimitesErrors),t&&t(s)):c&&!s.hasSubmitted&&(s.conseils.length>0&&(v("warn","Conseils not accepted",s.conseils),E="#validationSection",b=document.querySelector(E),S=b.getBoundingClientRect(),window.scrollTo({top:S.top+l.Gs+window.scrollY})),t&&t(s)),c?[2]:(console.log("Erreur fatale sauvegarde ou présoumission",o),E="#validationSection",b=document.querySelector(E),S=b.getBoundingClientRect(),window.scrollTo({top:S.top-l.Gs+window.scrollY}),[2,(w={},w[r.Ym]={general:a.Ay.t("da.validatorDA.unknownError")},w)])))}})})}},listesDemandesSoumises:G,pimaFr:Y}},w=function(e,t){var n=(0,i.useState)(),r=n[0],a=n[1],s=(0,i.useState)(),l=s[0],m=s[1],p=(0,i.useState)([]),f=p[0],v=p[1],S=(0,i.useState)({noReadOnly:!1,noImmutableValues:!1,simulateSlowService:!1,crashFormOnSave:!1,mockSISEtudesAnterieures:"",erreursEtudes:!1}),w=S[0],x=S[1],A=(0,i.useState)([]),F=A[0],N=A[1],C=(0,i.useState)(!1),D=C[0],O=C[1],P=(0,i.useState)([]),_=P[0],k=P[1],T=(0,i.useState)({data:[],url:""}),R=T[0],L=T[1],B=(0,i.useState)([]),M=B[0],q=B[1],H=(0,i.useState)(null),I=H[0],j=H[1],V=(0,i.useState)(""),U=V[0],z=V[1],J=(0,i.useState)(""),G=J[0],Y=J[1],Q=(0,i.useState)(""),K=Q[0],W=Q[1],Z=(0,i.useState)([]),X=Z[0],$=Z[1],ee=(0,i.useState)(!1),te=ee[0],ne=ee[1],re=(0,i.useState)(!1),ae=re[0],ie=re[1],oe=(0,i.useState)(!1),se=oe[0],le=oe[1],ce=(0,i.useState)([]),ue=ce[0],de=ce[1],me=(0,o.B)().t,pe=(0,h.wA)(),fe=(0,c.bK)(t,"",[function(e){var n=(0,c.xz)(me,t)(e);return E(E({},n),{error_server:{predicat:e.response.status>=500&&e.response.status<600,status:u.w.fatalError,result:{invalidMsg:{title:me("da.compte.serverErrorTitle"),fatalError:void 0,noReturnHref:!0,refreshButton:!0,showHeaderBar:!1,additionalMessage:(0,d.PV)(me("da.compte.serverError"))},ecode:e.response.headers["udem-admission-error-code"]?e.response.headers["udem-admission-error-code"]:""}}})}]),ve=(0,c.bl)(e,fe).getData;return(0,i.useEffect)(function(){b(void 0,void 0,void 0,function(){return y(this,function(n){switch(n.label){case 0:return[4,b(void 0,void 0,void 0,function(){var n,r,i,o,s,l,c,d,p,f,h,E,b,S,w,A,F,C,D;return y(this,function(y){switch(y.label){case 0:return pe((0,g.P3)()),t.setStatus(u.w.loading),[4,ve(e)];case 1:return n=y.sent(),r=n.data,i=r.fraisParTrimestre,o=r.isFree,s=r.hasSubmissionError,l=r.metaAsHiddenFields,c=r.numeroReference,d=r.questions,p=r.someProgrammeHaveZeroPerProgrammeQuestions,f=r.totalDesFrais,h=r.values,E=r.readOnlyFields,b=r.devFlags,S=r.invalidation,w=r.conseils,A=r.listesDemandesSoumises,F=d&&d.profil?d.profil:void 0,C=!!F&&F.length>0,r.invalidation&&C&&t.setStatus(u.w.invalidationsError,{invalidMsg:r.invalidation}),C&&t.setStatus(u.w.ready),D=[],A&&A.forEach(function(e){D.push(e)}),de(D),a({profil:F}),m(h),v(E),x(b),N(l),O(p),k(S),L(w),q(i),j(f),z(c),Y(G),W(K),$(X),ne(o),ie(s),le(C),[2]}})})];case 1:return n.sent(),[2]}})})},[]),{questions:r,initialValues:l,readOnlyFields:f,devFlags:w,metaAsHiddenFields:F,someProgrammeHaveZeroPerProgrammeQuestions:D,invalidation:_,conseils:R,pimaFr:void 0,fraisAdmission:M,totalDesFrais:I,numeroReference:U,checkoutUrlFr:G,checkoutUrlEn:K,acadPlansOfDA:X,isFree:te,hasSubmissionError:ae,hasQuestions:se,listesDemandesSoumises:ue}},x=function(e,t,n){var r=(0,d.Ct)(n),a=(0,o.B)().t,s=(0,h.wA)(),l=(0,c.gM)(t,a("da.invalidationDa.tryToRefresh"))[0],m=(0,c.bl)(e,l).getData,p=(0,i.useState)({profil:[],shared:[],perProgramme:[]}),f=p[0],E=p[1],S=(0,i.useState)([]),w=S[0],x=S[1],A=(0,i.useState)([]),F=A[0],N=A[1],C=(0,i.useState)({noReadOnly:!1,noImmutableValues:!1,simulateSlowService:!1,crashFormOnSave:!1,mockSISEtudesAnterieures:"",erreursEtudes:!1}),D=C[0],O=C[1],P=(0,i.useState)([]),_=P[0],k=P[1],T=(0,i.useState)(!1),R=T[0],L=T[1],B=(0,i.useState)([]),M=B[0],q=B[1],H=(0,i.useState)({data:[],url:""}),I=H[0],j=H[1],V=(0,i.useState)({}),U=V[0],z=V[1],J=(0,i.useState)([]),G=J[0],Y=J[1],Q=(0,i.useState)(null),K=Q[0],W=Q[1],Z=(0,i.useState)(""),X=Z[0],$=Z[1],ee=(0,i.useState)(""),te=ee[0],ne=ee[1],re=(0,i.useState)(""),ae=re[0],ie=re[1],oe=(0,i.useState)([]),se=oe[0],le=oe[1],ce=(0,i.useState)(!1),ue=ce[0],de=ce[1],me=(0,i.useState)(!1),pe=me[0],fe=me[1],ve=(0,i.useState)(!1),ge=ve[0],he=ve[1],Ee=function(){b(void 0,void 0,void 0,function(){return y(this,function(n){switch(n.label){case 0:return[4,b(void 0,void 0,void 0,function(){var n,i,o,l,c,p,f;return y(this,function(h){switch(h.label){case 0:return s((0,g.P3)()),t.setStatus(u.w.loading),[4,m(e)];case 1:return n=h.sent(),i=n.data,r("info","Loaded Questions and Values",n),(o=i.questions)?(["profil","shared","perProgramme"].forEach(function(e){void 0===o[e]&&(o[e]=[])}),l=o.profil.length>0||o.shared.length>0||o.perProgramme.length>0,(0,d.uG)()&&t.setStatus(u.w.invalidationsError,{invalidMsg:{title:a("da.invalidationDa.hasPaymentFormOpenedTitle"),fatalError:void 0,noReturnHref:!1,refreshButton:!1,showHeaderBar:!1,hasPaymentFormOpened:!0,additionalMessage:(0,d.PV)(a("da.invalidationDa.hasPaymentFormOpenedMsg"))}}),i.invalidation&&l?t.setStatus(u.w.invalidationsError,{invalidMsg:i.invalidation}):l?t.setStatus(u.w.ready):t.setStatus(u.w.fatalError,a("da.invalidationDa.errorGeneralQuestion")),(null===(c=i.values.shared)||void 0===c?void 0:c.declSubmit)!=v.AT||(0,d.uG)()||(i.values.shared.declSubmit=v.Js),E(o),x(i.values),N(i.readOnlyFields),O(i.devFlags),k(i.metaAsHiddenFields),L(i.someProgrammeHaveZeroPerProgrammeQuestions),q(i.invalidation),j(null!==(p=i.conseils)&&void 0!==p?p:{data:[],url:""}),z(null!==(f=i.pimaFr)&&void 0!==f?f:{}),Y(i.fraisParTrimestre),W(i.totalDesFrais),$(i.numeroReference),ne(i.checkoutUrlFr),ie(i.checkoutUrlEn),le(i.acadPlansOfDA),de(i.isFree),fe(i.hasSubmissionError),he(l),[2]):[2]}})})];case 1:return n.sent(),[2]}})})},be=function(){window.hidden||Ee()};return(0,i.useEffect)(function(){return Ee(),document.addEventListener("visibilitychange",be),function(){return document.removeEventListener("visibilitychange",be)}},[]),{questions:f,initialValues:w,readOnlyFields:F,devFlags:D,metaAsHiddenFields:_,someProgrammeHaveZeroPerProgrammeQuestions:R,invalidation:M,conseils:I,pimaFr:U,fraisAdmission:G,totalDesFrais:K,numeroReference:X,checkoutUrlFr:te,checkoutUrlEn:ae,acadPlansOfDA:se,isFree:ue,hasSubmissionError:pe,hasQuestions:ge,listesDemandesSoumises:[]}}}},e=>{e.O(0,[158,430],()=>{return t=4104,e(e.s=t);var t});e.O()}]);